package org.opentestsystem.rdw.admin.model;

import java.time.Instant;
import java.util.Objects;

/**
 * This model represents a single Student Group definition upload.
 * It contains/represents 0..n StudentGroupBatch instances.
 */
public class StudentGroupUpload {
    private Long id;
    private String digest;
    private ImportStatus status;
    private String creator;
    private Instant created;
    private Instant updated;
    private String message;

    /**
     * @return system id of the upload
     */
    public Long getId() {
        return id;
    }

    /**
     * @return content digest, as a 32 character hex string
     */
    public String getDigest() {
        return digest;
    }

    /**
     * @return The current processing status
     */
    public ImportStatus getStatus() {
        return status;
    }

    /**
     * @return The user who created this upload
     */
    public String getCreator() {
        return creator;
    }

    /**
     * @return A system processing message, if it exists
     */
    public String getMessage() {
        return message;
    }

    /**
     * @return The creation date
     */
    public Instant getCreated() {
        return created;
    }

    /**
     * @return The last update date
     */
    public Instant getUpdated() {
        return updated;
    }

    @Override
    public boolean equals(final Object o) {
        if (this == o) return true;
        if (!(o instanceof StudentGroupUpload)) return false;

        final StudentGroupUpload that = (StudentGroupUpload) o;
        return (status == that.status) &&
                Objects.equals(id, that.id) &&
                Objects.equals(digest, that.digest) &&
                Objects.equals(created, that.created) &&
                Objects.equals(updated, that.updated) &&
                Objects.equals(creator, that.creator) &&
                Objects.equals(message, that.message);
    }

    @Override
    public int hashCode() {
        return Objects.hash(StudentGroupUpload.class, id, status, digest, created, creator, updated, message);
    }

    public Builder copy() {
        return builder().copy(this);
    }

    public static Builder builder() {
        return new Builder();
    }

    public static class Builder {
        private Long id;
        private String digest;
        private ImportStatus status;
        private String creator;
        private Instant created;
        private Instant updated;
        private String message;

        public StudentGroupUpload build() {
            final StudentGroupUpload studentGroupUpload = new StudentGroupUpload();
            studentGroupUpload.id = id;
            studentGroupUpload.digest = digest;
            studentGroupUpload.status = status;
            studentGroupUpload.creator = creator;
            studentGroupUpload.created = created;
            studentGroupUpload.updated = updated;
            studentGroupUpload.message = message;
            return studentGroupUpload;
        }

        public Builder copy(final StudentGroupUpload studentGroupUpload) {
            this.id = studentGroupUpload.id;
            this.digest = studentGroupUpload.digest;
            this.status = studentGroupUpload.status;
            this.creator = studentGroupUpload.creator;
            this.created = studentGroupUpload.created;
            this.updated = studentGroupUpload.updated;
            this.message = studentGroupUpload.message;
            return this;
        }

        public Builder id(final Long id) {
            this.id = id;
            return this;
        }

        public Builder digest(final String digest) {
            this.digest = digest;
            return this;
        }

        public Builder status(final ImportStatus status) {
            this.status = status;
            return this;
        }

        public Builder creator(final String creator) {
            this.creator = creator;
            return this;
        }

        public Builder created(final Instant created) {
            this.created = created;
            return this;
        }

        public Builder updated(final Instant updated) {
            this.updated = updated;
            return this;
        }

        public Builder message(final String message) {
            this.message = message;
            return this;
        }
    }
}
