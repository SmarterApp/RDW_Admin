<p-dataTable
  #dt
  [rows]="200"
  [paginator]="imports.length > 200"
  expandableRows="true"
  rowExpandMode="single"
  [value]="imports"
  emptyMessage="{{'labels.groups.import.empty' | translate }}"
  sortField="id"
  sortOrder="-1"
  tableStyleClass="table table-striped table-hover"
  [tableStyle]="{'table-layout':'auto'}" >
  <p-column expander="true" styleClass="col-icon"></p-column>
  <p-column field="status" header="{{'labels.groups.import.cols.status' | translate }}" [sortable]="true">
    <ng-template let-import="rowData" pTemplate="body">
      <a href="javascript:void(0)" *ngIf="import.isOk" class="label border-only green" (click)="dt.toggleRow(import)" >
        <i class="fa fa-check-circle"></i> {{ 'enum.status.' + import.status | translate }}
      </a>
      <span *ngIf="!import.isOk">
        <a href="javascript:void(0)" class="label border-only red pointer" (click)="dt.toggleRow(import)" >
          <i class="fa fa-exclamation-circle"></i> {{ 'enum.status.' + import.status | translate }}
        </a>
      </span>
    </ng-template>
  </p-column>
  <p-column field="id" header="{{'labels.groups.import.cols.id' | translate }}" [sortable]="true"></p-column>
  <p-column field="fileName" header="{{'labels.groups.import.cols.file-name' | translate }}" [sortable]="true"></p-column>
  <p-column field="created" header="{{'labels.groups.import.cols.created' | translate }}" [sortable]="true">
    <ng-template let-import="rowData" pTemplate="body">
      {{ import.created | date:'medium' }}
    </ng-template>
  </p-column>
  <ng-template let-import pTemplate="rowexpansion" class="white-space-normal">
    <div class="panel" [ngClass]="{ 'panel-success':import.isOk, 'panel-danger':!import.isOk }">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa" [ngClass]="{ 'fa-check-circle':import.isOk, 'fa-exclamation-circle':!import.isOk }"></i> {{ 'enum.status.' + import.status | translate }}</h3>
      </div>
      <div class="panel-body">
        <p class="white-space-preline">{{ import.message }}</p>
      </div>
    </div>
  </ng-template>
</p-dataTable>
